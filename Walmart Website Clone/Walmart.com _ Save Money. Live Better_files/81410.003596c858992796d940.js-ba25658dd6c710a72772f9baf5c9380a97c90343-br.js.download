"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81410,46445],{46445:function(e,n,t){t.r(n),t.d(n,{useMaxColumnsWidth:function(){return u},DepartmentsButton:function(){return c}});var a=t(30567),r=t(26401),s=t(52406),l=t(636),i=t(79554),o=t(65346);const u=(e,n=i.MS)=>(0,s.useMemo)((()=>{let t=n+1,a=1/0;for(;a>e&&t>i.ii;)t-=1,a=i.np+i.HI+i.IT*t+i.AC;return[t,a]}),[n,e]),c=({categories:e,configs:n,headerWidth:t,maxHeight:s,onHeaderFlyoutClose:i,openMenu:c,queueOpenMenu:m,setOpenMenu:h,isLoadingCategories:d,isErrorCategories:g,isConfigsEmpty:f,hasFetchErrors:p,analyticsInfo:x})=>{var y,C,v,b,k;const[E,N]=u(t);return(0,a.jsx)(o.J,{isLoadingCategories:d,isErrorCategories:g,allHref:null==n||null==(y=n.allCategoriesLink)||null==(C=y.clickThrough)?void 0:C.value,allText:null==n||null==(v=n.allCategoriesLink)?void 0:v.linkText,categories:e,closedIconName:"Grid",href:null==n||null==(b=n.allCategoriesLink)||null==(k=b.clickThrough)?void 0:k.value,maxColumns:E,maxHeight:s,maxWidth:N,menuKey:"departments",onHeaderFlyoutClose:i,onLinkName:"Departments",openIconName:"GridFill",openMenu:c,queueOpenMenu:m,setOpenMenu:h,isConfigsEmpty:f,hasFetchErrors:p,analyticsInfo:x,children:(0,r.m)(l,"headerDepartments")})};n.default=c},65346:function(e,n,t){t.d(n,{J:function(){return j},Z:function(){return w}});var a=t(30567),r=t(91515),s=t(39636),l=t(26401),i=t(44135),o=t(35968),u=t(85235),c=t(49220),m=t(52406),h=t(636),d=t(79554),g=t(37121),f=t(94358),p=t.n(f),x=t(48107),y=t(10856),C=t(20241);const v=({onClose:e,subcategory:n,subCategoryExtras:t})=>{const{ta:{ne:r="",dn:s=""}={}}=t||{};return(0,a.jsxs)("li",{className:"flex-shrink-0 mr4",style:{width:d.Jc},children:[n.name?(0,a.jsx)("h2",{className:"b dark-gray f5 mt0 mb3",children:n.name}):null,(0,a.jsx)("ul",{className:"f6 list ma0 normal pa0 pb4",children:n.sections.map(((l,i)=>{const o="True"===(null==l?void 0:l.openInNewTab)?{"aria-label":l.name+" - opens in a new window",target:"_blank",rel:"noopener noreferrer"}:{};return l.name?(0,a.jsx)("li",{className:p()({mt2:0===i&&!n.name,mt3:n.name||i>0}),children:(0,a.jsx)(g.ZP,{onLinkName:l.name,className:"mid-gray no-underline subcategory-item-link",href:l.href,onClick:e,onLinkExtras:{...t,ta:{ne:r,dn:s,cn:null==n?void 0:n.name},nm:{nm:l.name}},...o,children:l.name})},n.name+"-"+l.href+"-"+i):null}))})]})},b=({categories:e,onClose:n,openCategory:t,categoryDetailsExtras:r})=>{var s,l,i;const{ta:o}=r||{},{image:u,heading:c,description:m,cta:h={}}=e[t]||{};return u||c||m||h.href?(0,a.jsxs)("div",{className:"pa3 pt4",style:{width:d.AC},children:[(null==(s=e[t])?void 0:s.image)&&(0,a.jsx)(y.Z,{alt:null==(l=e[t])?void 0:l.name,height:d.Rr,preload:!1,src:(0,C.P)({height:d.Rr+"px",src:null==(i=e[t])?void 0:i.image,width:d.Rr+"px"}),width:d.Rr}),e[t].heading&&(0,a.jsx)("h2",{className:"f3 mv2",children:e[t].heading}),e[t].description&&(0,a.jsx)("p",{className:"f6 mt0",children:e[t].description}),e[t].cta.href&&(0,a.jsx)(g.ZP,{onLinkName:e[t].cta.name,className:"flex items-center justify-center no-underline dark-gray b ba b--dark-gray br4 pv1",href:e[t].cta.href,onClick:n,useLDLink:!1,onLinkExtras:{...r,ta:{...o,lc:"ads"},li:{nm:e[t].heading},nm:{nm:e[t].cta.name}},children:e[t].cta.name})]}):null};var k=({categories:e,currentDepartmentButton:n,maxColumns:t,nextDepartmentButton:r,onClose:s,openCategory:l,setOpenCategory:i,categoryPanel:o,categoryMenuExtras:u})=>{const c=(0,x.t)(),h=()=>Math.min(d.IL,(window.innerHeight||0)-d.Co-c),g=(0,m.useRef)(null),{0:f,1:y}=(0,m.useState)({}),C=(0,m.useRef)({}),{0:k,1:E}=(0,m.useState)(h()),N=(0,m.useCallback)((e=>{if("Tab"===e.key&&o.current){const t=o.current.querySelectorAll("a, button");e.shiftKey&&e.target===t[0]&&n.current?(e.preventDefault(),n.current.focus()):e.shiftKey||e.target!==t[t.length-1]||(r.current?(e.preventDefault(),i(null),r.current.focus()):s())}}),[n,r,o]);(0,m.useEffect)((()=>{const e=()=>{C.current={},E(h())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,m.useEffect)((()=>{if(C.current[l])y(C.current[l]);else if(g.current){let n=0;const a=Array.from(g.current.querySelectorAll("li.flex-shrink-0"));let r=k-24;const s=a.map((e=>{const{clientHeight:t}=e;return t>r&&(r=t),n+=t,t}));let i=[{subcategories:[],height:0}];n>r?(n>r*t&&(r=n/t),s.forEach(((n,t)=>{i[i.length-1].height+n>r&&i.push({subcategories:[],height:0}),i[i.length-1].subcategories.push(e[l].subcategories[t]),i[i.length-1].height+=n})),i.length>t&&(i=[{subcategories:[],height:0}],s.forEach(((n,t)=>{const a=i.length-1;i[a].subcategories.push(e[l].subcategories[t]),i[a].height+=n,i[a].height>r&&t!==s.length-1&&i.push({subcategories:[],height:0})})))):s.forEach(((n,t)=>{i[0].subcategories.push(e[l].subcategories[t]),i[0].height+=n}));const o={columns:i,openCategory:l,totalWidth:d.IT*i.length};y(o),C.current[l]=o}}),[e,f,g,k,l]);const j=(f.totalWidth||d.IT*t)+d.HI,w=f.columns&&(f.openCategory===l||C.current[l]);return(0,a.jsxs)("div",{className:"flex","data-testid":"category-menu",onKeyDown:N,ref:o,children:[(0,a.jsx)("ul",{className:p()("bg-washed-blue list ma0 pb0 pl4 pr0 pt4 overflow-y-auto overflow-x-hidden justify-start",w&&"flex"),ref:g,style:{maxHeight:k,width:j},children:f.columns&&w?f.columns.map(((n,t)=>(0,a.jsx)("div",{"data-testid":"category-column-"+t,children:n.subcategories.map(((n,t)=>(0,a.jsx)(v,{onClose:s,subcategory:n,subCategoryExtras:u},e[l].name+"-"+n.name+"-"+t)))},e[l].name+"-"+t))):e[l].subcategories.map(((n,t)=>(0,a.jsx)(v,{onClose:s,subcategory:n,subCategoryExtras:u},e[l].name+"-"+n.name+"-"+t)))}),(0,a.jsx)(b,{categories:e,onClose:s,openCategory:l,categoryDetailsExtras:u})]})};var E=({allHref:e,allText:n,categories:t,isOpen:r,maxColumns:s,menuExtraStyles:l,onClose:i,analyticsInfo:o})=>{const{0:c,1:h}=(0,m.useState)(null),{pageTitle:f="",mainMenuName:x=""}=o||{},y="departments"===x?"viewAllDepartment":"viewAllServices",C=(0,m.useRef)(null),v=(0,m.useRef)(null),b=(0,m.useRef)(null),E=(0,m.useRef)(),N=()=>{E.current&&clearTimeout(E.current)},j=(0,m.useCallback)((e=>{N(),h(e)}),[]),w=(0,m.useCallback)((e=>n=>{if("Tab"===n.key){if(n.shiftKey&&c===e)j(null);else if(!n.shiftKey)if(b.current&&c===e){const e=b.current.querySelector("a, button");e&&(n.preventDefault(),e.focus())}else null===c&&e===t.length-1&&i()}else"Enter"===n.key&&c===e&&(n.preventDefault(),j(null))}),[t,j,i,c,b]);return(0,m.useEffect)((()=>{t.forEach((e=>{if(e.image){document.createElement("img").src=e.image}}))}),[JSON.stringify(t)]),(0,m.useEffect)((()=>{r||null===c||j(null)}),[j,r,c]),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"f6 overflow-auto",style:{width:d.np,...l},children:[e&&(0,a.jsx)(g.ZP,{className:"b db mid-gray pb2 ph4 pt4 no-underline",href:e,onClick:i,onLinkName:y,onLinkExtras:{pg:{nm:f},ta:{ne:x},nm:{nm:y}},children:n}),(0,a.jsx)("ul",{className:p()("list ma0 pa0 pb3",!e&&"pt4"),children:t.map(((e,n)=>{let t;return c===n?(t=C,v.current=null):c===n-1&&(t=v),(0,a.jsx)("li",{children:(0,a.jsx)(u.Z,{buttonRef:t,className:p()("b--none bg-transparent lh-copy mid-gray ph4 pv2 relative sans-serif tl w-100",c===n&&"header-flyout__department-button--active"),onClick:()=>{j(n)},onKeyDown:w(n),onMouseEnter:()=>(e=>{null===c?h(e):E.current=setTimeout((()=>{j(e)}),d.$o)})(n),onMouseLeave:N,useLDButton:!1,onLinkName:y,onLinkExtras:{pg:{nm:f},ta:{ne:x},li:{lc:y},nm:{nm:e.name}},children:e.name})},e.name)}))})]}),null!==c&&(0,a.jsx)(k,{categories:t,currentDepartmentButton:C,maxColumns:s,nextDepartmentButton:v,onClose:i,openCategory:c,setOpenCategory:j,categoryPanel:b,categoryMenuExtras:{pg:{nm:f},ta:{ne:x,dn:t[c].name}}})]})},N=t(6744);const j=({allHref:e,allText:n,categories:t,children:g,closedIconName:f,href:p,maxColumns:x,maxHeight:y,menuKey:C,onHeaderFlyoutClose:v,onLinkName:b,openIconName:k,openMenu:j,queueOpenMenu:w,setOpenMenu:L,isLoadingCategories:M,isConfigsEmpty:H,hasFetchErrors:T,analyticsInfo:I})=>{const{0:S,1:F}=(0,m.useState)(!1),O=j===C,D=(0,o.Zq)(),{isBot:R}=(0,i.vP)(),{setIsOverlay:P}=(0,m.useContext)(s.fC);(0,m.useEffect)((()=>{!O||t&&0!==t.length||D.invalidateQueries("global-header"),O&&P()}),[O,t,D]);const{pageTitle:q="",mainMenuName:Z=""}=I||{},K={nm:{nm:Z},pg:{nm:q}},B={pg:{nm:q},ta:{ne:Z}},W=(0,m.useRef)(null),A=(0,a.jsx)("div",{ref:W,children:R&&!O?(0,a.jsx)("div",{}):M?(0,a.jsx)("div",{className:"flex pa3",children:(0,a.jsx)("div",{className:"f6 overflow-auto flex items-center justify-center",style:{width:d.np,maxHeight:y,minHeight:96,height:"100%"},children:(0,a.jsx)(r.$,{color:"gray",size:"small"})})}):H&&T?(0,a.jsx)("div",{className:"flex pa3",children:(0,a.jsxs)("div",{className:"f6 overflow-auto flex items-center justify-center flex-column",style:{width:d.np,maxHeight:y,height:"100%"},children:[(0,a.jsx)("h3",{className:"ma0 mb2",children:(0,l.m)(h,"headerSorryMsg")}),(0,a.jsx)("p",{className:"ma0 mb2 tc",children:(0,l.m)(h,"headerUnableToLoadMsg",{menu:"departments"===C?"departments":"services"})}),(0,a.jsx)(u.Z,{className:"db mb3",onLinkName:"Refetch menu",variant:"primary",onClick:()=>{D.invalidateQueries("global-header")},children:(0,l.m)(h,"headerTryAgain")})]})}):(0,a.jsx)(E,{allHref:e,allText:n,categories:t||[],menuExtraStyles:{maxHeight:y,height:"100%"},isOpen:O,maxColumns:x,onClose:v,analyticsInfo:I})});return(0,a.jsx)(s.ZP,{name:"headerFlyout",moduleContext:"globalHeader",moduleViewExtras:B,alternateObservationPoint:W,pageTitle:q,shouldSetOverlay:!0,children:(0,a.jsxs)(N.ZP,{className:"b",flyoutChildren:A,flyoutStyle:{marginLeft:"-135px",maxHeight:y,transform:"none"},href:p,menuKey:C,onHeaderFlyoutClose:v,onLinkName:b,openMenu:j,queueOpenMenu:e=>{F(!!e),w(e)},setOpenMenu:L,onLinkExtras:K,children:[(0,a.jsx)(c.J,{"aria-hidden":!0,className:"mr2",name:S||O?k:f}),g]})})};var w=j},81410:function(e,n,t){t.r(n),t.d(n,{ServicesButton:function(){return u}});var a=t(30567),r=t(26401),s=(t(52406),t(636)),l=t(79554),i=t(46445),o=t(65346);const u=({categories:e,configs:n,headerWidth:t,maxHeight:u,onHeaderFlyoutClose:c,openMenu:m,queueOpenMenu:h,setOpenMenu:d,isLoadingCategories:g,isErrorCategories:f,isConfigsEmpty:p,hasFetchErrors:x,analyticsInfo:y})=>{var C,v,b,k,E;const[N,j]=(0,i.useMaxColumnsWidth)(t,l.Ei);return(0,a.jsx)(o.Z,{isLoadingCategories:g,isErrorCategories:f,allText:null==n||null==(C=n.allCategoriesLink)?void 0:C.linkText,allHref:null==n||null==(v=n.allCategoriesLink)||null==(b=v.clickThrough)?void 0:b.value,href:null==n||null==(k=n.allCategoriesLink)||null==(E=k.clickThrough)?void 0:E.value,categories:e,closedIconName:"Services",maxColumns:N,maxHeight:u,maxWidth:j,menuKey:"services",onHeaderFlyoutClose:c,onLinkName:"Services",openIconName:"ServicesFill",openMenu:m,queueOpenMenu:h,setOpenMenu:d,isConfigsEmpty:p,hasFetchErrors:x,analyticsInfo:y,children:(0,r.m)(s,"headerServices")})};n.default=u},20241:function(e,n,t){t.d(n,{P:function(){return r}});const a="https://i5.walmartimages.com/dfw/4ff9c6c9-64e4/k2-_cf34b75a-7d8e-44a1-935c-2b5bc9bb031c.v1.jpg",r=({src:e,height:n,width:t,background:r="FFFFFF",quality:s})=>{if(!n||!t)return e||a;const[l,i]=(e||a).split("?"),o=new URLSearchParams(i||"");return o.set("odnHeight",n),o.set("odnWidth",t),o.set("odnBg",r),s&&o.set("odnDynImageQuality",s),l+"?"+o.toString()}}}]);