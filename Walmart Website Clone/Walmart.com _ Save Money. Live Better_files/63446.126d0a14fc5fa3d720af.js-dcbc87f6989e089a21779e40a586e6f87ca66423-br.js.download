"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63446],{99073:function(e,n,a){a.d(n,{t:function(){return s}});var t=a(52406);const s=(e,n,a=!1,s=!1)=>{t.useEffect((()=>{const t=Array.isArray(e)?e:[e],r=e=>{t.every((e=>!e.current))||t.some((n=>n.current&&n.current.contains(e.target)))||(a&&e.preventDefault(),n(e))},o=s?"mousedown":"pointerdown";return window.PointerEvent?document.addEventListener(o,r):(document.addEventListener("mousedown",r),document.addEventListener("touchstart",r)),()=>{window.PointerEvent?document.removeEventListener(o,r):(document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r))}}),[e,n])}},63446:function(e,n,a){a.r(n),a.d(n,{transformCategories:function(){return I},AccountLoggedInLinks:function(){return R},AccountLoggedOutLinks:function(){return Z},LoggedInAccountButton:function(){return D},LoggedOutAccountButton:function(){return S},MyItemsButton:function(){return F},DesktopHeader:function(){return O}});var t=a(52406),s=a(30567),r=a(83917),o=a(40118),l=a(94913),i=a(26401),c=a(6857),u=a(67219),d=a(85235),m=a(48107),h=a(6853),p=a(31546),f=a(3257),g=a(49005),v=a(49220),x=a(10856),y=a(37121),N=a(94358),k=a.n(N),b=a(39956),C=a(636),L=a(14409),w=a(79554),j=a(6744),H=a(26999);const E=(0,b.default)((()=>a.e(46445).then(a.bind(a,46445))),{loadableGenerated:{webpack:()=>[46445],modules:["../../../../libs/ui/global-header/component/src/lib/desktop-header.tsx -> ./departments-button"]}}),M=(0,b.default)((()=>a.e(81410).then(a.bind(a,81410))),{loadableGenerated:{webpack:()=>[81410],modules:["../../../../libs/ui/global-header/component/src/lib/desktop-header.tsx -> ./services-button"]}});function I(e){return e.map((e=>{var n,a,t,s,r,o,l,i,c;const u={name:null==e||null==(n=e.cta)?void 0:n.linkText,href:null==e||null==(a=e.cta)?void 0:a.clickThrough.value};return{name:null!=(t=null==e?void 0:e.name)?t:"",cta:u,heading:null!=(s=null==e?void 0:e.heading)?s:"",description:null!=(r=null==e?void 0:e.description)?r:"",image:null!=(o=null==e||null==(l=e.image)?void 0:l.src)?o:"",subcategories:null!=(i=null==e||null==(c=e.subCategoryGroup)?void 0:c.map((e=>{var n,a,t;return{name:null!=(n=null==e?void 0:e.subCategoryHeading)?n:"",sections:null!=(a=null==e||null==(t=e.subCategoryLinksGroup)?void 0:t.map((e=>{var n,a,t,s;return{name:null!=(n=null==e?void 0:e.subCategoryLink.linkText)?n:"",href:null!=(a=null==e?void 0:e.subCategoryLink.clickThrough.value)?a:"",id:null!=(t=null==e?void 0:e.subCategoryLink.uid)?t:"",openInNewTab:null!=(s=null==e?void 0:e.openInNewTab)?s:"False"}})))?a:[]}})))?i:[]}}))}const P="dark-gray db f6 no-underline nowrap desktop-header-flyout-link",R=({onHeaderFlyoutClose:e,onLastLinkKeyDown:n,showHelpInHeader:a})=>(0,s.jsxs)("div",{className:"pa4",children:[(0,s.jsxs)(y.ZP,{className:k()(P,"mb3"),href:"/orders",onClick:e,onLinkName:"Purchase History",children:[(0,s.jsx)(v.J,{className:"mr2",name:"Receipt"}),(0,i.m)(C,"headerPurchaseHist")]}),(0,s.jsxs)(y.ZP,{className:k()(P,"mb3"),href:"/account",onClick:e,onLinkName:"Account",children:[(0,s.jsx)(v.J,{className:"mr2",name:"User"}),(0,i.m)(C,"headerAccount")]}),a&&(0,s.jsxs)(y.ZP,{className:k()(P,"mb3"),href:"/help",onClick:e,onLinkName:"Help",children:[(0,s.jsx)(v.J,{className:"mr2",name:"QuestionCircle"}),(0,i.m)(C,"headerHelp")]}),(0,s.jsx)(o.i,{className:"mb3"}),(0,s.jsxs)(y.ZP,{className:P,href:"/account/logout?vid=oaoh",onClick:e,onKeyDown:n,children:[(0,s.jsx)(v.J,{className:"mr2",name:"SignOut"}),(0,i.m)(C,"headerSignOut")]})]}),Z=({onHeaderFlyoutClose:e,onLastLinkKeyDown:n,showHelpInHeader:a})=>{const{signIn:t}=(0,r.Eu)();return(0,s.jsxs)("div",{className:"pa4",children:[(0,s.jsx)(d.Z,{className:"db mb3 w-100",onClick:()=>{e(),t()},onLinkName:"Sign in",variant:"primary",children:(0,i.m)(C,"headerSignIn")}),(0,s.jsx)(y.ZP,{className:"no-underline",href:"/account/signup?vid=oaoh",onClick:e,onLinkName:"Create an account",children:(0,s.jsx)(d.Z,{className:"db mb3 w-100",tabIndex:-1,children:(0,i.m)(C,"headerCreateAccount")})}),(0,s.jsx)(o.i,{className:"mb3"}),(0,s.jsxs)(y.ZP,{className:P,href:"/orders",onClick:e,onLinkName:"Purchase History",onKeyDown:a?u.Z:n,children:[(0,s.jsx)(v.J,{className:"mr2",name:"Receipt"}),(0,i.m)(C,"headerPurchaseHist")]}),a&&(0,s.jsxs)(y.ZP,{className:k()(P,"mt3"),href:"/help",onClick:e,onKeyDown:n,onLinkName:"Help",children:[(0,s.jsx)(v.J,{className:"mr2",name:"QuestionCircle"}),(0,i.m)(C,"headerHelp")]})]})},A="lh-solid",T={className:A,menuKey:"account",onLinkName:"Account"},D=e=>{const{onHeaderFlyoutClose:n,setOpenMenu:a}=e,{authState:t}=(0,r.Eu)(),o=(0,l.i)(h.a),{showHelpInHeader:c}=(0,p.A2)(o);return(0,s.jsxs)(j.ZP,{flyoutChildren:(0,s.jsx)(R,{onHeaderFlyoutClose:n,onLastLinkKeyDown:e=>(0,j.Yy)(e,a),showHelpInHeader:c}),href:"/account",...T,...e,children:[(0,s.jsx)(v.J,{"aria-hidden":!0,name:"User"}),(0,s.jsxs)("div",{className:"ml2 nowrap",children:[(0,s.jsx)("div",{className:"f7 mw3 mw4-xl truncate",children:(0,i.m)(C,"headerHi")+", "+t.name}),(0,s.jsx)("div",{className:"b",children:(0,i.m)(C,"headerAccount")})]})]},"logged-in-account-flyout")},S=e=>{const{onHeaderFlyoutClose:n,setOpenMenu:a}=e,t=""+window.location.pathname+window.location.search+window.location.hash,r=(0,l.i)(h.a),{showHelpInHeader:o}=(0,p.A2)(r);return(0,s.jsxs)(j.ZP,{flyoutChildren:(0,s.jsx)(Z,{onHeaderFlyoutClose:n,onLastLinkKeyDown:e=>(0,j.Yy)(e,a),showHelpInHeader:o}),href:"/account/login?vid=oaoh&returnUrl="+encodeURIComponent(t),...T,...e,children:[(0,s.jsx)(v.J,{"aria-hidden":!0,name:"User"}),(0,s.jsxs)("div",{className:"ml2 nowrap",children:[(0,s.jsx)("div",{className:"f7 mw3 mw4-xl lh-title truncate",children:(0,i.m)(C,"headerSignIn")}),(0,s.jsx)("div",{className:"b",children:(0,i.m)(C,"headerAccount")})]})]},"logged-out-account-flyout")},F=e=>{const{onHeaderFlyoutClose:n,setOpenMenu:a}=e;return(0,s.jsxs)(j.ZP,{className:A,containerClassName:"ml3",flyoutChildren:(0,s.jsxs)("div",{className:"ph4 pt4 pb2",children:[(0,s.jsxs)(y.ZP,{className:k()(P,"mb3"),href:"/my-items",onClick:n,onLinkName:"Reorder",children:[(0,s.jsx)(v.J,{className:"mr2",name:"Reorder"}),(0,i.m)(C,"headerReorder")]}),(0,s.jsxs)(y.ZP,{className:k()(P,"mb3"),href:"/lists",onClick:n,onLinkName:"Lists",children:[(0,s.jsx)(v.J,{className:"mr2",name:"Heart"}),(0,i.m)(C,"headerLists")]}),(0,s.jsxs)(y.ZP,{className:k()(P,"mb3"),href:"/my-registries",onClick:n,onKeyDown:e=>(0,j.Yy)(e,a),onLinkName:"Registries",children:[(0,s.jsx)(v.J,{className:"mr2",name:"Gift"}),(0,i.m)(C,"headerRegistries")]})]}),href:"/my-items",menuKey:"my-items",onLinkName:"Reorder my items",...e,children:[(0,s.jsx)(v.J,{"aria-hidden":!0,name:"Reorder"}),(0,s.jsxs)("div",{className:"ml2 nowrap",children:[(0,s.jsx)("div",{className:"f7 lh-title",children:(0,i.m)(C,"headerReorder")}),(0,s.jsx)("div",{className:"b",children:(0,i.m)(C,"headerMyItems")})]})]})},O=e=>{var n,a,o,l,u,d;const{className:h,onSearchFormSubmit:p,onSearchIconClick:v,searchActive:N,searchClearRef:k,searchFieldProps:b,searchInputRef:j,setSearchActive:P,typeAhead:R,typeaheadRef:Z,initialHeaderData:A,buttonArea:T=[{Component:E,mainMenuName:"departments"},{Component:M,mainMenuName:"services"}]}=e,{openMenu:O,setOpenMenu:K}=(0,t.useContext)(g.V),J=(0,m.t)(),{pageTitle:G}=(0,t.useContext)(c.z1),z=(0,t.useCallback)((()=>Math.min(w.IL,(window.innerHeight||0)-w.Co-J)),[J]),{0:B,1:U}=(0,t.useState)(0),{0:W,1:Y}=(0,t.useState)(0),_=(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=()=>{U(z()),_.current&&Y(_.current.clientWidth)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[z]);const{data:q,isLoading:Q,isFetching:V,isError:X}=(0,f.s)(A),$=Q||V,ee=(null==q||null==(n=q.data)||null==(a=n.contentLayout)?void 0:a.modules)||[],ne=null===(null==q?void 0:q.data),ae=null!=(o=null==(l=ee.find((e=>{var n;return"GlobalHeaderMenu"===(null==e?void 0:e.type)&&"departmentsMenu"===(null==e||null==(n=e.matchedTrigger)?void 0:n.zone)})))?void 0:l.configs)?o:{},te=!("allCategoriesLink"in ae);let se;ae.departments&&ae.departments.length>0&&(se=I(ae.departments));const re=null!=(u=null==(d=ee.find((e=>{var n;return"GlobalHeaderMenu"===(null==e?void 0:e.type)&&"servicesMenu"===(null==e||null==(n=e.matchedTrigger)?void 0:n.zone)})))?void 0:d.configs)?u:{},oe=!("allCategoriesLink"in re);let le;re.departments&&re.departments.length>0&&(le=I(re.departments));const ie=(0,t.useRef)(),ce={onHeaderFlyoutClose:()=>{K(null)},openMenu:O,queueOpenMenu:e=>{ie.current&&clearTimeout(ie.current),ie.current=setTimeout((()=>{K(e)}),w.$o)},setOpenMenu:K},{authState:ue}=(0,r.Eu)(),de=T.map((({Component:e,mainMenuName:n})=>{let a={headerWidth:W,maxHeight:B,isLoadingCategories:$,isErrorCategories:X,hasFetchErrors:ne,...ce};return"departments"===n&&(a={...a,categories:se,configs:ae,isConfigsEmpty:te}),"services"===n&&(a={...a,categories:le,configs:re,isConfigsEmpty:oe}),(0,s.jsx)(e,{...a,analyticsInfo:{mainMenuName:n,pageTitle:G}},n)}));return(0,s.jsx)("header",{className:h,children:(0,s.jsxs)("div",{className:"center flex items-center justify-center pa4",ref:_,children:[(0,s.jsx)(y.ZP,{"aria-label":(0,i.m)(C,"headerWmHomepage"),className:"flex-none mr3",href:"/",onLinkName:"walmartLogo",onLinkExtras:{nm:{nm:"walmartLogo"},pg:{nm:G}},children:(0,s.jsx)(x.Z,{alt:"Walmart",className:"db",height:32,preload:!0,src:"//i5.walmartimages.com/dfw/63fd9f59-b3e1/7a569e53-f29a-4c3d-bfaf-6f7a158bfadd/v1/walmartLogo.svg",width:130})}),de,(0,s.jsxs)("form",{action:"/search",autoComplete:"off",className:"flex-auto ml3",onSubmit:p,role:"search",children:[(0,s.jsx)(H.Z,{onBlur:e=>{var n;e.relatedTarget&&(e.relatedTarget===k.current||e.relatedTarget===j.current||null!=(n=Z.current)&&n.contains(e.relatedTarget))||P(!1)},onClick:v,onFocus:()=>P(!0),placeholder:(0,i.m)(C,"headerSearchFldPh"),searchActive:N,searchClearRef:k,searchInputRef:j,onLinkExtras:{pg:{nm:G},nm:{nm:"searchBar"}},onLinkName:"search",...b}),R]}),(0,s.jsx)(F,{onLinkExtras:{nm:{nm:"reorderMyItems"},pg:{nm:G},ta:{ne:"departments"}},...ce}),ue.isLoggedIn?(0,t.createElement)(D,{...ce,onLinkExtras:{nm:{nm:"myAccount"},pg:{nm:G}},key:"logged-in-account-button"}):(0,t.createElement)(S,{...ce,key:"logged-out-account-button",onLinkExtras:{nm:{nm:"myAccount"},pg:{nm:G}}}),(0,s.jsx)(L.Z,{className:"ml3",onLinkExtras:{nm:{nm:"cart"},pg:{nm:G}}})]})})};n.default=O},6744:function(e,n,a){a.d(n,{Yy:function(){return g},ZP:function(){return v}});var t=a(30567),s=a(94913),r=a(85235),o=a(6853),l=a(31546),i=a(37121),c=a(94358),u=a.n(c),d=a(52406),m=a(79554),h=a(99073);var p=({children:e,className:n,dataTestId:a,isOpen:s,onClose:r,openerRef:o,style:l,onMouseEnterHandler:i})=>{const c=(0,d.useRef)(null);return(0,h.t)([o,c],(e=>{s&&r(e)})),(0,t.jsx)("div",{className:u()("absolute bg-white br3 br--bottom left-0 lh-copy mt4 overflow-hidden shadow-1",{dn:!s},n),"data-testid":a,ref:c,style:l,...i&&{onMouseEnter:i},children:e})};const f={className:"flex items-center no-underline ph3 white desktop-header-trigger lh-title",style:{borderRadius:100,height:m.Wq,transition:"all 100ms cubic-bezier(0.77, 0, 0.175, 1)"}},g=(e,n,a=!1)=>{"Tab"===e.key&&e.shiftKey===a&&n(null)};var v=({children:e,className:n,containerClassName:a,flyoutChildren:c,flyoutStyle:m,href:h,menuKey:v,onHeaderFlyoutClose:x,onLinkName:y,openMenu:N,queueOpenMenu:k,setOpenMenu:b,onLinkExtras:C})=>{const L=(0,d.useRef)(null),w={...f,onLinkName:y,children:e,"aria-haspopup":!0,"aria-expanded":N===v,className:u()(f.className,n),onLinkExtras:C},j=(0,s.i)(o.a),{flyOutExpandOnClick:H}=(0,l.A2)(j),E=(0,d.useCallback)((e=>{var n;N&&["Esc","Escape"].includes(e.code)&&(e.preventDefault(),k(null),null==L||null==(n=L.current)||n.focus())}),[k,N]),M=(0,d.useCallback)((e=>{["Enter","Space"].includes(e.code)&&(e.preventDefault(),k(N?null:v)),g(e,b,!0)}),[k,v,N,b]),I=(0,d.useCallback)((e=>{e.preventDefault(),k(N?null:v)}),[k,v,N]);return(0,t.jsxs)("div",{className:u()(a,"relative"),onMouseEnter:()=>H?void 0:k(v),onKeyDown:E,onMouseLeave:()=>k(null),children:[h?(0,t.jsx)(i.ZP,{...w,href:h,onKeyDown:e=>M(e),ref:L,onClick:I,role:"button"}):(0,t.jsx)(r.Z,{...w,onKeyDown:e=>M(e),className:u()(w.className,"pointer ba b--transparent bg-transparent sans-serif"),buttonRef:L,useLDButton:!1,onClick:I}),c&&(0,t.jsx)(p,{dataTestId:v+"-flyout",isOpen:N===v,onClose:x,...H&&{onMouseEnterHandler:()=>k(v)},openerRef:L,style:{left:"50%",transform:"translateX(-50%)",...m},children:c})]})}}}]);